@page "/Signin"
@inherits SigninBase
@layout UnAuthLayout

@using System.Text.RegularExpressions
@using System.ComponentModel.DataAnnotations
@using TCRS.Shared.Objects
@*TODO: Clean this up, add proper validation checks etc*@
<div class="sign-in">
    <div style="max-width: 400px;">

        <MudCard>
            <EditForm EditContext="@EditContext" OnSubmit="@HandleSubmit">
                <MudCardContent>
                    <MudText Typo="Typo.h6">Enter your credentials below to sign in</MudText>

                    <MudForm @bind-IsValid="@success" @bind-Errors="@errors">
                        <MudTextField @bind-value="UserCredentials.Email" Variant="Variant.Outlined" T="string" Label="Email" Required="true"
                                      RequiredError="Email is required!"
                                      Validation="@(new EmailAddressAttribute() {ErrorMessage = "The email address is invalid"})" />
                        <MudTextField @bind-value="UserCredentials.Password" Variant="Variant.Outlined" T="string" Label="Password" Required="true"
                                      InputType="InputType.Password" RequiredError="Password is required!" />
                    </MudForm>
                </MudCardContent>
                <MudCardActions>
                    <MudButton OnClick="@HandleSubmit" Variant="Variant.Filled" Color="Color.Primary" Disabled="@(!success)"
                               Class="ml-auto">
                        Sign in
                    </MudButton>
                </MudCardActions>
            </EditForm>
        </MudCard>
    </div>
</div>
