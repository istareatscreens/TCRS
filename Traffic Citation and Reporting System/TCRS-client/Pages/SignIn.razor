@page "/Signin"

@using System.Text.RegularExpressions
@using System.ComponentModel.DataAnnotations
<!--TODO: Clean this up, add proper validation checks etc..-->
<div class="sign-in">
    <MudCard>
        <MudCardContent>
            <MudForm @ref="form" @bind-IsValid="@success" @bind-Errors="@errors">
                <MudTextField @bind-value="_email" T="string" Label="Email" Required="true"
                    RequiredError="Email is required!"
                    Validation="@(new EmailAddressAttribute() {ErrorMessage = "The email address is invalid"})" />
                <MudTextField @bind-value="_password" T="string" Label="Password" Required="true"
                    InputType="InputType.Password" RequiredError="Password is required!" />
            </MudForm>
        </MudCardContent>
        <MudCardActions>
            <MudButton OnClick="Submit" Variant="Variant.Filled" Color="Color.Primary" Disabled="@(!success)"
                Class="ml-auto">
                Sign in
            </MudButton>
        </MudCardActions>
    </MudCard>
</div>

@code {
    private string _email { get; set; }

    private string _password { get; set; }

    bool success;

    string[] errors = { };
    MudForm form;

    private void Submit()
    {
        Console.WriteLine(_email + " " + _password);
    }

}